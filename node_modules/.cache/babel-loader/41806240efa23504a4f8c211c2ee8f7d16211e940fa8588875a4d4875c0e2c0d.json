{"ast":null,"code":"import * as utils from '../common/utils.js';\nimport { removeAnimation } from '../common/utilsFP.js';\nimport { silentScroll } from '../common/silentScroll.js';\nimport { $html, $htmlBody, $body } from '../common/cache.js';\nimport { getState } from '../common/state.js';\nimport { getOptions, getContainer, getInitialAnchorsInDom } from '../common/options.js';\nimport { getNodes } from '../common/item.js';\nimport { ENABLED, SECTION, SLIDE, COMPLETELY, SLIDES_NAV_SEL, RESPONSIVE, TABLE, ACTIVE, TABLE_CELL_SEL, VIEWING_PREFIX, SECTION_NAV_SEL, SLIDES_CONTAINER, SLIDES_CONTAINER_SEL, SLIDES_WRAPPER_SEL, SLIDES_ARROW_SEL, IS_OVERFLOW, SCROLLABLE, WRAPPER } from '../common/selectors.js';\nimport { win } from '../common/constants.js';\nimport { scrollOverflowHandler } from '../scrolloverflow.js';\n\n/*\n* Removes inline styles added by fullpage.js\n*/\nexport function destroyStructure() {\n  //reseting the `top` or `translate` properties to 0\n  silentScroll(0);\n\n  //loading all the lazy load content\n  utils.$('img[data-src], source[data-src], audio[data-src], iframe[data-src]', getContainer()).forEach(function (item) {\n    utils.setSrc(item, 'src');\n  });\n  utils.$('img[data-srcset]').forEach(function (item) {\n    utils.setSrc(item, 'srcset');\n  });\n  utils.remove(utils.$(SECTION_NAV_SEL + ', ' + SLIDES_NAV_SEL + ', ' + SLIDES_ARROW_SEL));\n\n  //removing inline styles\n  utils.css(getNodes(getState().sections), {\n    'height': '',\n    'background-color': '',\n    'padding': ''\n  });\n  utils.css(getNodes(getState().slides), {\n    'width': ''\n  });\n  utils.css(getContainer(), {\n    'height': '',\n    'position': '',\n    '-ms-touch-action': '',\n    'touch-action': ''\n  });\n  utils.css($htmlBody, {\n    'overflow': '',\n    'height': ''\n  });\n\n  // remove .fp-enabled class\n  utils.removeClass($html, ENABLED);\n\n  // remove .fp-responsive class & .fp-scrollable\n  utils.removeClass($body, RESPONSIVE + ' ' + SCROLLABLE);\n\n  // remove all of the .fp-viewing- classes\n  $body.className.split(/\\s+/).forEach(function (className) {\n    if (className.indexOf(VIEWING_PREFIX) === 0) {\n      utils.removeClass($body, className);\n    }\n  });\n\n  //removing added classes\n  getNodes(getState().panels).forEach(function (item) {\n    if (getOptions().scrollOverflow) {\n      scrollOverflowHandler.destroyWrapper(item);\n    }\n    utils.removeClass(item, TABLE + ' ' + ACTIVE + ' ' + COMPLETELY + ' ' + IS_OVERFLOW);\n    var previousStyles = utils.getAttr(item, 'data-fp-styles');\n    if (previousStyles) {\n      item.setAttribute('style', previousStyles);\n    }\n\n    //removing anchors if they were not set using the HTML markup\n    if (utils.hasClass(item, SECTION) && !getInitialAnchorsInDom()) {\n      item.removeAttribute('data-anchor');\n    }\n  });\n\n  //removing the applied transition from the fullpage wrapper\n  removeAnimation(getContainer());\n\n  //Unwrapping content\n  [TABLE_CELL_SEL, SLIDES_CONTAINER_SEL, SLIDES_WRAPPER_SEL].forEach(function (selector) {\n    utils.$(selector, getContainer()).forEach(function (item) {\n      //unwrap not being use in case there's no child element inside and its just text\n      utils.unwrap(item);\n    });\n  });\n\n  //removing the applied transition from the fullpage wrapper\n  utils.css(getContainer(), {\n    '-webkit-transition': 'none',\n    'transition': 'none'\n  });\n  utils.removeClass(getContainer(), WRAPPER);\n\n  //scrolling the page to the top with no animation\n  win.scrollTo(0, 0);\n\n  //removing selectors\n  var usedSelectors = [SECTION, SLIDE, SLIDES_CONTAINER];\n  usedSelectors.forEach(function (item) {\n    utils.removeClass(utils.$('.' + item), item);\n  });\n}","map":{"version":3,"names":["utils","removeAnimation","silentScroll","$html","$htmlBody","$body","getState","getOptions","getContainer","getInitialAnchorsInDom","getNodes","ENABLED","SECTION","SLIDE","COMPLETELY","SLIDES_NAV_SEL","RESPONSIVE","TABLE","ACTIVE","TABLE_CELL_SEL","VIEWING_PREFIX","SECTION_NAV_SEL","SLIDES_CONTAINER","SLIDES_CONTAINER_SEL","SLIDES_WRAPPER_SEL","SLIDES_ARROW_SEL","IS_OVERFLOW","SCROLLABLE","WRAPPER","win","scrollOverflowHandler","destroyStructure","$","forEach","item","setSrc","remove","css","sections","slides","removeClass","className","split","indexOf","panels","scrollOverflow","destroyWrapper","previousStyles","getAttr","setAttribute","hasClass","removeAttribute","selector","unwrap","scrollTo","usedSelectors"],"sources":["/Users/rachelma/college/2023/fall/2223/internet-art/src/js/dom/destroyStructure.js"],"sourcesContent":["import * as utils from '../common/utils.js';\nimport { removeAnimation } from '../common/utilsFP.js';\nimport { silentScroll } from '../common/silentScroll.js';\nimport { $html, $htmlBody, $body } from '../common/cache.js';\nimport { getState } from '../common/state.js';\nimport { getOptions, getContainer, getInitialAnchorsInDom } from '../common/options.js';\nimport { getNodes } from '../common/item.js';\nimport { \n    ENABLED,\n    SECTION,\n    SLIDE,\n    COMPLETELY,\n    SLIDES_NAV_SEL,\n    RESPONSIVE,\n    TABLE,\n    ACTIVE,\n    TABLE_CELL_SEL,\n    VIEWING_PREFIX,\n    SECTION_NAV_SEL,\n    SLIDES_CONTAINER,\n    SLIDES_CONTAINER_SEL,\n    SLIDES_WRAPPER_SEL,\n    SLIDES_ARROW_SEL,\n    IS_OVERFLOW,\n    SCROLLABLE,\n    WRAPPER\n} from '../common/selectors.js';\nimport { win } from '../common/constants.js';\nimport { scrollOverflowHandler } from '../scrolloverflow.js';\n\n/*\n* Removes inline styles added by fullpage.js\n*/\nexport function destroyStructure(){\n    //reseting the `top` or `translate` properties to 0\n    silentScroll(0);\n\n    //loading all the lazy load content\n    utils.$('img[data-src], source[data-src], audio[data-src], iframe[data-src]', getContainer()).forEach(function(item){\n        utils.setSrc(item, 'src');\n    });\n\n    utils.$('img[data-srcset]').forEach(function(item){\n        utils.setSrc(item, 'srcset');\n    });\n\n    utils.remove(utils.$(SECTION_NAV_SEL + ', ' + SLIDES_NAV_SEL +  ', ' + SLIDES_ARROW_SEL));\n\n    //removing inline styles\n    utils.css(getNodes(getState().sections), {\n        'height': '',\n        'background-color' : '',\n        'padding': ''\n    });\n\n    utils.css(getNodes(getState().slides), {\n        'width': ''\n    });\n\n    utils.css(getContainer(), {\n        'height': '',\n        'position': '',\n        '-ms-touch-action': '',\n        'touch-action': ''\n    });\n\n    utils.css($htmlBody, {\n        'overflow': '',\n        'height': ''\n    });\n\n    // remove .fp-enabled class\n    utils.removeClass($html, ENABLED);\n\n    // remove .fp-responsive class & .fp-scrollable\n    utils.removeClass($body, RESPONSIVE + ' ' + SCROLLABLE);\n\n    // remove all of the .fp-viewing- classes\n    $body.className.split(/\\s+/).forEach(function (className) {\n        if (className.indexOf(VIEWING_PREFIX) === 0) {\n            utils.removeClass($body, className);\n        }\n    });\n\n    //removing added classes\n    getNodes(getState().panels).forEach(function(item){\n        if(getOptions().scrollOverflow){\n            scrollOverflowHandler.destroyWrapper(item);\n        }\n\n        utils.removeClass(item, TABLE + ' ' + ACTIVE + ' ' + COMPLETELY + ' ' + IS_OVERFLOW);\n        var previousStyles = utils.getAttr(item, 'data-fp-styles');\n        if(previousStyles){\n            item.setAttribute('style', previousStyles);\n        }\n\n        //removing anchors if they were not set using the HTML markup\n        if(utils.hasClass(item, SECTION) && !getInitialAnchorsInDom()){\n            item.removeAttribute('data-anchor');\n        }\n    });\n\n    //removing the applied transition from the fullpage wrapper\n    removeAnimation(getContainer());\n\n    //Unwrapping content\n    [TABLE_CELL_SEL, SLIDES_CONTAINER_SEL,SLIDES_WRAPPER_SEL].forEach(function(selector){\n        utils.$(selector, getContainer()).forEach(function(item){\n            //unwrap not being use in case there's no child element inside and its just text\n            utils.unwrap(item);\n        });\n    });\n\n    //removing the applied transition from the fullpage wrapper\n    utils.css(getContainer(), {\n        '-webkit-transition': 'none',\n        'transition': 'none'\n    });\n\n    utils.removeClass(getContainer(), WRAPPER);\n\n    //scrolling the page to the top with no animation\n    win.scrollTo(0, 0);\n\n    //removing selectors\n    var usedSelectors = [SECTION, SLIDE, SLIDES_CONTAINER];\n    usedSelectors.forEach(function(item){\n        utils.removeClass(utils.$('.' + item), item);\n    });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}