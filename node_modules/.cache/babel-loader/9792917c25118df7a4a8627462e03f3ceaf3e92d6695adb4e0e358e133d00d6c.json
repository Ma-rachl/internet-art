{"ast":null,"code":"import * as utils from '../common/utils.js';\nimport { $html, $body } from '../common/cache.js';\nimport { addTableClass } from '../common/addTableClass.js';\nimport { getState, setState } from '../common/state.js';\nimport { getOptions, getContainer } from '../common/options.js';\nimport { styleSection } from '../sections.js';\nimport { styleSlides } from '../slides/styleSlides.js';\nimport { styleMenu } from '../menu/styleMenu.js';\nimport { addVerticalNavigation } from '../nav/sections.js';\nimport { enableYoutubeAPI } from '../media.js';\nimport { WRAPPER, ENABLED, DESTROYED } from '../common/selectors.js';\nimport { addInternalSelectors } from './addInternalSelectors.js';\nimport { scrollOverflowHandler } from '../scrolloverflow.js';\n\n/**\n* Works over the DOM structure to set it up for the current fullpage getOptions().\n*/\nexport function prepareDom() {\n  utils.css(utils.getParentsUntil(getContainer(), 'body'), {\n    'height': '100%',\n    'position': 'relative'\n  });\n\n  //adding a class to recognize the container internally in the code\n  utils.addClass(getContainer(), WRAPPER);\n  utils.addClass($html, ENABLED);\n\n  //due to https://github.com/alvarotrigo/fullPage.js/issues/1502\n  setState({\n    windowsHeight: utils.getWindowHeight()\n  });\n  utils.removeClass(getContainer(), DESTROYED); //in case it was destroyed before initializing it again\n\n  addInternalSelectors();\n  var sections = getState().sectionsIncludingHidden;\n\n  //styling the sections / slides / menu\n  for (var i = 0; i < sections.length; i++) {\n    var sectionIndex = i;\n    var section = sections[i];\n    var slides = section.allSlidesItems;\n\n    //caching the original styles to add them back on destroy('all')\n    var originalStyles = utils.getAttr(section.item, 'style');\n    if (originalStyles) {\n      section.item.setAttribute('data-fp-styles', originalStyles);\n    }\n    styleSection(section);\n    styleMenu(section);\n\n    // if there's any slide\n    if (slides.length > 0) {\n      styleSlides(section);\n    }\n  }\n\n  //fixed elements need to be moved out of the plugin container due to problems with CSS3.\n  if (getOptions().fixedElements && getOptions().css3) {\n    utils.$(getOptions().fixedElements).forEach(function (item) {\n      $body.appendChild(item);\n    });\n  }\n\n  //vertical centered of the navigation + active bullet\n  if (getOptions().navigation) {\n    addVerticalNavigation();\n  }\n  enableYoutubeAPI();\n  if (getOptions().scrollOverflow) {\n    scrollOverflowHandler.makeScrollable();\n  }\n}","map":{"version":3,"names":["utils","$html","$body","addTableClass","getState","setState","getOptions","getContainer","styleSection","styleSlides","styleMenu","addVerticalNavigation","enableYoutubeAPI","WRAPPER","ENABLED","DESTROYED","addInternalSelectors","scrollOverflowHandler","prepareDom","css","getParentsUntil","addClass","windowsHeight","getWindowHeight","removeClass","sections","sectionsIncludingHidden","i","length","sectionIndex","section","slides","allSlidesItems","originalStyles","getAttr","item","setAttribute","fixedElements","css3","$","forEach","appendChild","navigation","scrollOverflow","makeScrollable"],"sources":["/Users/rachelma/college/2023/fall/2223/internet-art/src/js/dom/prepareDom.js"],"sourcesContent":["import * as utils from '../common/utils.js';\nimport { $html, $body } from '../common/cache.js';\nimport { addTableClass } from '../common/addTableClass.js';\nimport { getState, setState } from '../common/state.js';\nimport { getOptions, getContainer } from '../common/options.js';\nimport { styleSection } from '../sections.js';\nimport { styleSlides } from '../slides/styleSlides.js';\nimport { styleMenu } from '../menu/styleMenu.js';\nimport { addVerticalNavigation } from '../nav/sections.js';\nimport { enableYoutubeAPI } from '../media.js';\nimport { \n    WRAPPER,\n    ENABLED,\n    DESTROYED\n} from '../common/selectors.js';\nimport { addInternalSelectors } from './addInternalSelectors.js';\nimport { scrollOverflowHandler } from '../scrolloverflow.js';\n\n/**\n* Works over the DOM structure to set it up for the current fullpage getOptions().\n*/\nexport function prepareDom(){\n    \n    utils.css(utils.getParentsUntil(getContainer(), 'body'), {\n        'height': '100%',\n        'position': 'relative'\n    });\n\n    //adding a class to recognize the container internally in the code\n    utils.addClass(getContainer(), WRAPPER);\n    utils.addClass($html, ENABLED);\n\n    //due to https://github.com/alvarotrigo/fullPage.js/issues/1502\n    setState({windowsHeight: utils.getWindowHeight()});\n\n    utils.removeClass(getContainer(), DESTROYED); //in case it was destroyed before initializing it again\n\n    addInternalSelectors();\n\n    var sections = getState().sectionsIncludingHidden;\n\n    //styling the sections / slides / menu\n    for(var i = 0; i<sections.length; i++){\n        var sectionIndex = i;\n        var section = sections[i];\n        var slides = section.allSlidesItems;\n\n        //caching the original styles to add them back on destroy('all')\n        var originalStyles = utils.getAttr(section.item, 'style');\n        if(originalStyles){\n            section.item.setAttribute('data-fp-styles', originalStyles);\n        }\n\n        styleSection(section);\n        styleMenu(section);\n\n        // if there's any slide\n        if (slides.length > 0) {\n            styleSlides(section);\n        }\n    }\n\n    //fixed elements need to be moved out of the plugin container due to problems with CSS3.\n    if(getOptions().fixedElements && getOptions().css3){\n        utils.$(getOptions().fixedElements).forEach(function(item){\n            $body.appendChild(item);\n        });\n    }\n\n    //vertical centered of the navigation + active bullet\n    if(getOptions().navigation){\n        addVerticalNavigation();\n    }\n\n    enableYoutubeAPI();\n\n    if(getOptions().scrollOverflow){\n        scrollOverflowHandler.makeScrollable();\n    }\n}\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,oBAAoB;AAC3C,SAASC,KAAK,EAAEC,KAAK,QAAQ,oBAAoB;AACjD,SAASC,aAAa,QAAQ,4BAA4B;AAC1D,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AACvD,SAASC,UAAU,EAAEC,YAAY,QAAQ,sBAAsB;AAC/D,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,SAAS,QAAQ,sBAAsB;AAChD,SAASC,qBAAqB,QAAQ,oBAAoB;AAC1D,SAASC,gBAAgB,QAAQ,aAAa;AAC9C,SACIC,OAAO,EACPC,OAAO,EACPC,SAAS,QACN,wBAAwB;AAC/B,SAASC,oBAAoB,QAAQ,2BAA2B;AAChE,SAASC,qBAAqB,QAAQ,sBAAsB;;AAE5D;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAAA,EAAE;EAExBlB,KAAK,CAACmB,GAAG,CAACnB,KAAK,CAACoB,eAAe,CAACb,YAAY,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE;IACrD,QAAQ,EAAE,MAAM;IAChB,UAAU,EAAE;EAChB,CAAC,CAAC;;EAEF;EACAP,KAAK,CAACqB,QAAQ,CAACd,YAAY,CAAC,CAAC,EAAEM,OAAO,CAAC;EACvCb,KAAK,CAACqB,QAAQ,CAACpB,KAAK,EAAEa,OAAO,CAAC;;EAE9B;EACAT,QAAQ,CAAC;IAACiB,aAAa,EAAEtB,KAAK,CAACuB,eAAe,CAAC;EAAC,CAAC,CAAC;EAElDvB,KAAK,CAACwB,WAAW,CAACjB,YAAY,CAAC,CAAC,EAAEQ,SAAS,CAAC,CAAC,CAAC;;EAE9CC,oBAAoB,CAAC,CAAC;EAEtB,IAAIS,QAAQ,GAAGrB,QAAQ,CAAC,CAAC,CAACsB,uBAAuB;;EAEjD;EACA,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAACF,QAAQ,CAACG,MAAM,EAAED,CAAC,EAAE,EAAC;IAClC,IAAIE,YAAY,GAAGF,CAAC;IACpB,IAAIG,OAAO,GAAGL,QAAQ,CAACE,CAAC,CAAC;IACzB,IAAII,MAAM,GAAGD,OAAO,CAACE,cAAc;;IAEnC;IACA,IAAIC,cAAc,GAAGjC,KAAK,CAACkC,OAAO,CAACJ,OAAO,CAACK,IAAI,EAAE,OAAO,CAAC;IACzD,IAAGF,cAAc,EAAC;MACdH,OAAO,CAACK,IAAI,CAACC,YAAY,CAAC,gBAAgB,EAAEH,cAAc,CAAC;IAC/D;IAEAzB,YAAY,CAACsB,OAAO,CAAC;IACrBpB,SAAS,CAACoB,OAAO,CAAC;;IAElB;IACA,IAAIC,MAAM,CAACH,MAAM,GAAG,CAAC,EAAE;MACnBnB,WAAW,CAACqB,OAAO,CAAC;IACxB;EACJ;;EAEA;EACA,IAAGxB,UAAU,CAAC,CAAC,CAAC+B,aAAa,IAAI/B,UAAU,CAAC,CAAC,CAACgC,IAAI,EAAC;IAC/CtC,KAAK,CAACuC,CAAC,CAACjC,UAAU,CAAC,CAAC,CAAC+B,aAAa,CAAC,CAACG,OAAO,CAAC,UAASL,IAAI,EAAC;MACtDjC,KAAK,CAACuC,WAAW,CAACN,IAAI,CAAC;IAC3B,CAAC,CAAC;EACN;;EAEA;EACA,IAAG7B,UAAU,CAAC,CAAC,CAACoC,UAAU,EAAC;IACvB/B,qBAAqB,CAAC,CAAC;EAC3B;EAEAC,gBAAgB,CAAC,CAAC;EAElB,IAAGN,UAAU,CAAC,CAAC,CAACqC,cAAc,EAAC;IAC3B1B,qBAAqB,CAAC2B,cAAc,CAAC,CAAC;EAC1C;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}