{"ast":null,"code":"import * as utils from '../common/utils.js';\nimport { FP } from '../common/constants.js';\nimport { getState, state } from '../common/state.js';\nimport { getOptions } from '../common/options.js';\nimport { playMedia } from '../media.js';\nimport { fireCallback } from '../callbacks/fireCallback.js';\nimport { lazyLoad } from '../lazyLoad/lazyLoad.js';\nimport { lazyLoadOthers } from '../lazyLoad/lazyLoadOthers.js';\nimport { COMPLETELY } from '../common/selectors.js';\nimport { getAnchorsURL } from '../anchors/getAnchorsURL.js';\nimport { getStartingSection } from '../sections.js';\nimport { getSectionByAnchor } from '../common/getSectionByAnchor.js';\nimport { EventEmitter } from '../common/eventEmitter.js';\nimport { events } from '../common/events.js';\nFP.shared.afterRenderActions = afterRenderActions;\n\n/**\n* Actions and callbacks to fire afterRender\n*/\nexport function afterRenderActions() {\n  var section = getState().activeSection;\n  var sectionElem = getState().activeSection.item;\n  utils.addClass(sectionElem, COMPLETELY);\n  lazyLoad(sectionElem);\n  lazyLoadOthers();\n  playMedia(sectionElem);\n  if (isDestinyTheStartingSection() && utils.isFunction(getOptions().afterLoad)) {\n    fireCallback('afterLoad', {\n      activeSection: sectionElem,\n      element: sectionElem,\n      direction: null,\n      //for backwards compatibility callback (to be removed in a future!)\n      anchorLink: section.anchor,\n      sectionIndex: section.index(),\n      items: {\n        origin: getState().activeSection,\n        destination: getState().activeSection\n      }\n    });\n  }\n  if (utils.isFunction(getOptions().afterRender)) {\n    fireCallback('afterRender');\n  }\n}\n\n/**\n* Determines if the URL anchor destiny is the starting section (the one using 'active' class before initialization)\n*/\nfunction isDestinyTheStartingSection() {\n  var anchor = getAnchorsURL();\n  var destinationSection = getSectionByAnchor(anchor.section);\n  return !anchor.section || !destinationSection || typeof destinationSection !== 'undefined' && destinationSection.index() === utils.index(getStartingSection());\n}","map":{"version":3,"names":["utils","FP","getState","state","getOptions","playMedia","fireCallback","lazyLoad","lazyLoadOthers","COMPLETELY","getAnchorsURL","getStartingSection","getSectionByAnchor","EventEmitter","events","shared","afterRenderActions","section","activeSection","sectionElem","item","addClass","isDestinyTheStartingSection","isFunction","afterLoad","element","direction","anchorLink","anchor","sectionIndex","index","items","origin","destination","afterRender","destinationSection"],"sources":["/Users/rachelma/college/2023/fall/2223/internet-art/src/js/dom/afterRenderActions.js"],"sourcesContent":["import * as utils from '../common/utils.js';\nimport { FP } from '../common/constants.js';\nimport { getState, state } from '../common/state.js';\nimport { getOptions} from '../common/options.js';\nimport {  playMedia } from '../media.js';\nimport { fireCallback } from '../callbacks/fireCallback.js';\nimport { lazyLoad } from '../lazyLoad/lazyLoad.js';\nimport { lazyLoadOthers } from '../lazyLoad/lazyLoadOthers.js';\nimport { \n    COMPLETELY,\n} from '../common/selectors.js';\nimport { getAnchorsURL } from '../anchors/getAnchorsURL.js';\nimport { getStartingSection } from '../sections.js';\nimport { getSectionByAnchor } from '../common/getSectionByAnchor.js';\nimport { EventEmitter } from '../common/eventEmitter.js';\nimport { events } from '../common/events.js';\n\nFP.shared.afterRenderActions = afterRenderActions;\n\n/**\n* Actions and callbacks to fire afterRender\n*/\nexport function afterRenderActions(){\n    var section = getState().activeSection;\n    var sectionElem = getState().activeSection.item;\n\n    utils.addClass(sectionElem, COMPLETELY);\n\n    lazyLoad(sectionElem);\n    lazyLoadOthers();\n    playMedia(sectionElem);\n\n    if(isDestinyTheStartingSection() && utils.isFunction(getOptions().afterLoad) ){\n        fireCallback('afterLoad', {\n            activeSection: sectionElem,\n            element: sectionElem,\n            direction: null,\n\n            //for backwards compatibility callback (to be removed in a future!)\n            anchorLink: section.anchor,\n            sectionIndex: section.index(),\n\n            items: {\n                origin: getState().activeSection,\n                destination: getState().activeSection\n            }\n        });\n    }\n\n    if(utils.isFunction(getOptions().afterRender)){\n        fireCallback('afterRender');\n    }\n}\n\n\n/**\n* Determines if the URL anchor destiny is the starting section (the one using 'active' class before initialization)\n*/\nfunction isDestinyTheStartingSection(){\n    var anchor = getAnchorsURL();\n    var destinationSection = getSectionByAnchor(anchor.section);\n    return !anchor.section || !destinationSection || typeof destinationSection !=='undefined' && destinationSection.index() === utils.index(getStartingSection());\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,oBAAoB;AAC3C,SAASC,EAAE,QAAQ,wBAAwB;AAC3C,SAASC,QAAQ,EAAEC,KAAK,QAAQ,oBAAoB;AACpD,SAASC,UAAU,QAAO,sBAAsB;AAChD,SAAUC,SAAS,QAAQ,aAAa;AACxC,SAASC,YAAY,QAAQ,8BAA8B;AAC3D,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,cAAc,QAAQ,+BAA+B;AAC9D,SACIC,UAAU,QACP,wBAAwB;AAC/B,SAASC,aAAa,QAAQ,6BAA6B;AAC3D,SAASC,kBAAkB,QAAQ,gBAAgB;AACnD,SAASC,kBAAkB,QAAQ,iCAAiC;AACpE,SAASC,YAAY,QAAQ,2BAA2B;AACxD,SAASC,MAAM,QAAQ,qBAAqB;AAE5Cb,EAAE,CAACc,MAAM,CAACC,kBAAkB,GAAGA,kBAAkB;;AAEjD;AACA;AACA;AACA,OAAO,SAASA,kBAAkBA,CAAA,EAAE;EAChC,IAAIC,OAAO,GAAGf,QAAQ,CAAC,CAAC,CAACgB,aAAa;EACtC,IAAIC,WAAW,GAAGjB,QAAQ,CAAC,CAAC,CAACgB,aAAa,CAACE,IAAI;EAE/CpB,KAAK,CAACqB,QAAQ,CAACF,WAAW,EAAEV,UAAU,CAAC;EAEvCF,QAAQ,CAACY,WAAW,CAAC;EACrBX,cAAc,CAAC,CAAC;EAChBH,SAAS,CAACc,WAAW,CAAC;EAEtB,IAAGG,2BAA2B,CAAC,CAAC,IAAItB,KAAK,CAACuB,UAAU,CAACnB,UAAU,CAAC,CAAC,CAACoB,SAAS,CAAC,EAAE;IAC1ElB,YAAY,CAAC,WAAW,EAAE;MACtBY,aAAa,EAAEC,WAAW;MAC1BM,OAAO,EAAEN,WAAW;MACpBO,SAAS,EAAE,IAAI;MAEf;MACAC,UAAU,EAAEV,OAAO,CAACW,MAAM;MAC1BC,YAAY,EAAEZ,OAAO,CAACa,KAAK,CAAC,CAAC;MAE7BC,KAAK,EAAE;QACHC,MAAM,EAAE9B,QAAQ,CAAC,CAAC,CAACgB,aAAa;QAChCe,WAAW,EAAE/B,QAAQ,CAAC,CAAC,CAACgB;MAC5B;IACJ,CAAC,CAAC;EACN;EAEA,IAAGlB,KAAK,CAACuB,UAAU,CAACnB,UAAU,CAAC,CAAC,CAAC8B,WAAW,CAAC,EAAC;IAC1C5B,YAAY,CAAC,aAAa,CAAC;EAC/B;AACJ;;AAGA;AACA;AACA;AACA,SAASgB,2BAA2BA,CAAA,EAAE;EAClC,IAAIM,MAAM,GAAGlB,aAAa,CAAC,CAAC;EAC5B,IAAIyB,kBAAkB,GAAGvB,kBAAkB,CAACgB,MAAM,CAACX,OAAO,CAAC;EAC3D,OAAO,CAACW,MAAM,CAACX,OAAO,IAAI,CAACkB,kBAAkB,IAAI,OAAOA,kBAAkB,KAAI,WAAW,IAAIA,kBAAkB,CAACL,KAAK,CAAC,CAAC,KAAK9B,KAAK,CAAC8B,KAAK,CAACnB,kBAAkB,CAAC,CAAC,CAAC;AACjK"},"metadata":{},"sourceType":"module","externalDependencies":[]}