{"ast":null,"code":"import * as utils from './common/utils.js';\nimport { getState } from './common/state.js';\nimport { $body } from './common/cache.js';\nimport { VIEWING_PREFIX } from './common/selectors.js';\n\n/**\n* Sets a class for the body of the page depending on the active section / slide\n*/\nexport function setBodyClass() {\n  var section = getState().activeSection.item;\n  var slide = getState().activeSection.activeSlide;\n  var sectionAnchor = getAnchor(section);\n  var text = String(sectionAnchor);\n  if (slide) {\n    var slideAnchor = getAnchor(slide.item);\n    text = text + '-' + slideAnchor;\n  }\n\n  //changing slash for dash to make it a valid CSS style\n  text = text.replace('/', '-').replace('#', '');\n\n  //removing previous anchor classes\n  var classRe = new RegExp('\\\\b\\\\s?' + VIEWING_PREFIX + '-[^\\\\s]+\\\\b', \"g\");\n  $body.className = $body.className.replace(classRe, '');\n\n  //adding the current anchor\n  utils.addClass($body, VIEWING_PREFIX + '-' + text);\n}\n\n/**\n* Gets the anchor for the given slide / section. Its index will be used if there's none.\n*/\nfunction getAnchor(element) {\n  if (!element) {\n    return null;\n  }\n  var anchor = utils.getAttr(element, 'data-anchor');\n  var elementIndex = utils.index(element);\n\n  //Slide without anchor link? We take the index instead.\n  if (anchor == null) {\n    anchor = elementIndex;\n  }\n  return anchor;\n}","map":{"version":3,"names":["utils","getState","$body","VIEWING_PREFIX","setBodyClass","section","activeSection","item","slide","activeSlide","sectionAnchor","getAnchor","text","String","slideAnchor","replace","classRe","RegExp","className","addClass","element","anchor","getAttr","elementIndex","index"],"sources":["/Users/rachelma/college/2023/fall/2223/internet-art/src/js/stateClasses.js"],"sourcesContent":["import * as utils from './common/utils.js';\nimport { getState } from './common/state.js';\nimport { $body } from './common/cache.js';\nimport { VIEWING_PREFIX } from './common/selectors.js';\n\n/**\n* Sets a class for the body of the page depending on the active section / slide\n*/\nexport function setBodyClass(){\n    var section = getState().activeSection.item;\n    var slide = getState().activeSection.activeSlide;\n\n    var sectionAnchor = getAnchor(section);\n    var text = String(sectionAnchor);\n\n    if(slide){\n        var slideAnchor = getAnchor(slide.item);\n        text = text + '-' + slideAnchor;\n    }\n\n    //changing slash for dash to make it a valid CSS style\n    text = text.replace('/', '-').replace('#','');\n\n    //removing previous anchor classes\n    var classRe = new RegExp('\\\\b\\\\s?' + VIEWING_PREFIX + '-[^\\\\s]+\\\\b', \"g\");\n    $body.className = $body.className.replace(classRe, '');\n\n    //adding the current anchor\n    utils.addClass($body, VIEWING_PREFIX + '-' + text);\n}\n\n/**\n* Gets the anchor for the given slide / section. Its index will be used if there's none.\n*/\nfunction getAnchor(element){\n    if(!element){\n        return null;\n    }\n    var anchor = utils.getAttr(element, 'data-anchor');\n    var elementIndex = utils.index(element);\n\n    //Slide without anchor link? We take the index instead.\n    if(anchor == null){\n        anchor = elementIndex;\n    }\n\n    return anchor;\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,mBAAmB;AAC1C,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,KAAK,QAAQ,mBAAmB;AACzC,SAASC,cAAc,QAAQ,uBAAuB;;AAEtD;AACA;AACA;AACA,OAAO,SAASC,YAAYA,CAAA,EAAE;EAC1B,IAAIC,OAAO,GAAGJ,QAAQ,CAAC,CAAC,CAACK,aAAa,CAACC,IAAI;EAC3C,IAAIC,KAAK,GAAGP,QAAQ,CAAC,CAAC,CAACK,aAAa,CAACG,WAAW;EAEhD,IAAIC,aAAa,GAAGC,SAAS,CAACN,OAAO,CAAC;EACtC,IAAIO,IAAI,GAAGC,MAAM,CAACH,aAAa,CAAC;EAEhC,IAAGF,KAAK,EAAC;IACL,IAAIM,WAAW,GAAGH,SAAS,CAACH,KAAK,CAACD,IAAI,CAAC;IACvCK,IAAI,GAAGA,IAAI,GAAG,GAAG,GAAGE,WAAW;EACnC;;EAEA;EACAF,IAAI,GAAGA,IAAI,CAACG,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,GAAG,EAAC,EAAE,CAAC;;EAE7C;EACA,IAAIC,OAAO,GAAG,IAAIC,MAAM,CAAC,SAAS,GAAGd,cAAc,GAAG,aAAa,EAAE,GAAG,CAAC;EACzED,KAAK,CAACgB,SAAS,GAAGhB,KAAK,CAACgB,SAAS,CAACH,OAAO,CAACC,OAAO,EAAE,EAAE,CAAC;;EAEtD;EACAhB,KAAK,CAACmB,QAAQ,CAACjB,KAAK,EAAEC,cAAc,GAAG,GAAG,GAAGS,IAAI,CAAC;AACtD;;AAEA;AACA;AACA;AACA,SAASD,SAASA,CAACS,OAAO,EAAC;EACvB,IAAG,CAACA,OAAO,EAAC;IACR,OAAO,IAAI;EACf;EACA,IAAIC,MAAM,GAAGrB,KAAK,CAACsB,OAAO,CAACF,OAAO,EAAE,aAAa,CAAC;EAClD,IAAIG,YAAY,GAAGvB,KAAK,CAACwB,KAAK,CAACJ,OAAO,CAAC;;EAEvC;EACA,IAAGC,MAAM,IAAI,IAAI,EAAC;IACdA,MAAM,GAAGE,YAAY;EACzB;EAEA,OAAOF,MAAM;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}