{"ast":null,"code":"//@ts-check\nimport * as utils from '../common/utils.js';\nimport { silentScroll } from '../common/silentScroll.js';\nimport { getState, setState } from '../common/state.js';\nimport { silentLandscapeScroll } from '../slides/silentLandscapeScroll.js';\nimport { SECTION_SEL, SLIDE_ACTIVE_SEL } from '../common/selectors.js';\n\n/**\n* Maintains the active slides in the viewport\n* (Because the `scroll` animation might get lost with some actions, such as when using continuousVertical)\n*/\nfunction keepSlidesPosition() {\n  var activeSlides = utils.$(SLIDE_ACTIVE_SEL);\n  for (var i = 0; i < activeSlides.length; i++) {\n    silentLandscapeScroll(activeSlides[i], 'internal');\n  }\n}\n\n/**\n* Fix section order after continuousVertical changes have been animated\n*/\nexport function continuousVerticalFixSectionOrder(v) {\n  // If continuousVertical is in effect (and autoScrolling would also be in effect then),\n  // finish moving the elements around so the direct navigation will function more simply\n  if (v.wrapAroundElements == null) {\n    return;\n  }\n  if (v.isMovementUp) {\n    utils.before(utils.$(SECTION_SEL)[0], v.wrapAroundElements);\n  } else {\n    utils.after(utils.$(SECTION_SEL)[getState().sections.length - 1], v.wrapAroundElements);\n  }\n  silentScroll(getState().activeSection.item.offsetTop);\n\n  // Maintain the active slides visible in the viewport\n  keepSlidesPosition();\n  setState({\n    isDoingContinousVertical: false\n  });\n}","map":{"version":3,"names":["utils","silentScroll","getState","setState","silentLandscapeScroll","SECTION_SEL","SLIDE_ACTIVE_SEL","keepSlidesPosition","activeSlides","$","i","length","continuousVerticalFixSectionOrder","v","wrapAroundElements","isMovementUp","before","after","sections","activeSection","item","offsetTop","isDoingContinousVertical"],"sources":["/Users/rachelma/college/2023/fall/2223/internet-art/src/js/infiniteScroll/fixPosition.js"],"sourcesContent":["//@ts-check\nimport * as utils from '../common/utils.js';\nimport { silentScroll } from '../common/silentScroll.js';\nimport { getState, setState } from '../common/state.js';\nimport { silentLandscapeScroll } from '../slides/silentLandscapeScroll.js';\nimport {\n    SECTION_SEL,\n    SLIDE_ACTIVE_SEL\n} from '../common/selectors.js';\n\n/**\n* Maintains the active slides in the viewport\n* (Because the `scroll` animation might get lost with some actions, such as when using continuousVertical)\n*/\nfunction keepSlidesPosition(){\n    var activeSlides = utils.$(SLIDE_ACTIVE_SEL);\n    for( var i =0; i<activeSlides.length; i++){\n        silentLandscapeScroll(activeSlides[i], 'internal');\n    }\n}\n\n/**\n* Fix section order after continuousVertical changes have been animated\n*/\nexport function continuousVerticalFixSectionOrder (v) {\n    // If continuousVertical is in effect (and autoScrolling would also be in effect then),\n    // finish moving the elements around so the direct navigation will function more simply\n    if (v.wrapAroundElements == null) {\n        return;\n    }\n\n    if (v.isMovementUp) {\n        utils.before(utils.$(SECTION_SEL)[0], v.wrapAroundElements);\n    }\n    else {\n        utils.after(utils.$(SECTION_SEL)[getState().sections.length -1 ], v.wrapAroundElements);\n    }\n\n    silentScroll(getState().activeSection.item.offsetTop);\n\n    // Maintain the active slides visible in the viewport\n    keepSlidesPosition();\n\n    setState({isDoingContinousVertical: false});\n}"],"mappings":"AAAA;AACA,OAAO,KAAKA,KAAK,MAAM,oBAAoB;AAC3C,SAASC,YAAY,QAAQ,2BAA2B;AACxD,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AACvD,SAASC,qBAAqB,QAAQ,oCAAoC;AAC1E,SACIC,WAAW,EACXC,gBAAgB,QACb,wBAAwB;;AAE/B;AACA;AACA;AACA;AACA,SAASC,kBAAkBA,CAAA,EAAE;EACzB,IAAIC,YAAY,GAAGR,KAAK,CAACS,CAAC,CAACH,gBAAgB,CAAC;EAC5C,KAAK,IAAII,CAAC,GAAE,CAAC,EAAEA,CAAC,GAACF,YAAY,CAACG,MAAM,EAAED,CAAC,EAAE,EAAC;IACtCN,qBAAqB,CAACI,YAAY,CAACE,CAAC,CAAC,EAAE,UAAU,CAAC;EACtD;AACJ;;AAEA;AACA;AACA;AACA,OAAO,SAASE,iCAAiCA,CAAEC,CAAC,EAAE;EAClD;EACA;EACA,IAAIA,CAAC,CAACC,kBAAkB,IAAI,IAAI,EAAE;IAC9B;EACJ;EAEA,IAAID,CAAC,CAACE,YAAY,EAAE;IAChBf,KAAK,CAACgB,MAAM,CAAChB,KAAK,CAACS,CAAC,CAACJ,WAAW,CAAC,CAAC,CAAC,CAAC,EAAEQ,CAAC,CAACC,kBAAkB,CAAC;EAC/D,CAAC,MACI;IACDd,KAAK,CAACiB,KAAK,CAACjB,KAAK,CAACS,CAAC,CAACJ,WAAW,CAAC,CAACH,QAAQ,CAAC,CAAC,CAACgB,QAAQ,CAACP,MAAM,GAAE,CAAC,CAAE,EAAEE,CAAC,CAACC,kBAAkB,CAAC;EAC3F;EAEAb,YAAY,CAACC,QAAQ,CAAC,CAAC,CAACiB,aAAa,CAACC,IAAI,CAACC,SAAS,CAAC;;EAErD;EACAd,kBAAkB,CAAC,CAAC;EAEpBJ,QAAQ,CAAC;IAACmB,wBAAwB,EAAE;EAAK,CAAC,CAAC;AAC/C"},"metadata":{},"sourceType":"module","externalDependencies":[]}