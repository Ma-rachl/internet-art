{"ast":null,"code":"import * as utils from '../common/utils.js';\nimport { getScrollSettings, isFullPageAbove } from '../common/utilsFP.js';\nimport { getOptions } from '../common/options.js';\nimport { doc, FP } from '../common/constants.js';\nimport { $html, $htmlBody } from '../common/cache.js';\nimport { getState, setState } from '../common/state.js';\nimport { scrollTo } from '../common/scrollTo.js';\nexport function scrollBeyondFullPage() {\n  var dtop = getDestinationOffset();\n  var scrollSettings = getScrollSettings(dtop);\n  FP.test.top = -dtop + 'px';\n  setState({\n    canScroll: false\n  });\n  scrollTo(scrollSettings.element, scrollSettings.options, getOptions().scrollingSpeed, function () {\n    setTimeout(function () {\n      setState({\n        isBeyondFullpage: true\n      });\n      setState({\n        canScroll: true\n      });\n    }, 30);\n  });\n}\nexport function onKeyDown() {\n  if (!isFullPageAbove()) {\n    return;\n  } else {\n    scrollUpToFullpage();\n  }\n}\nexport function scrollUpToFullpage() {\n  var scrollSettings = getScrollSettings(utils.getLast(getState().sections).item.offsetTop);\n  setState({\n    canScroll: false\n  });\n  scrollTo(scrollSettings.element, scrollSettings.options, getOptions().scrollingSpeed, function () {\n    setState({\n      canScroll: true\n    });\n    setState({\n      isBeyondFullpage: false\n    });\n    setState({\n      isAboutToScrollToFullPage: false\n    });\n  });\n}\nfunction getDestinationOffset() {\n  if (!getOptions().css3) {\n    return utils.getLast(getState().sections).item.offsetTop + utils.getLast(getState().sections).item.offsetHeight;\n  }\n  return utils.getScrollTop() + utils.getWindowHeight();\n}","map":{"version":3,"names":["utils","getScrollSettings","isFullPageAbove","getOptions","doc","FP","$html","$htmlBody","getState","setState","scrollTo","scrollBeyondFullPage","dtop","getDestinationOffset","scrollSettings","test","top","canScroll","element","options","scrollingSpeed","setTimeout","isBeyondFullpage","onKeyDown","scrollUpToFullpage","getLast","sections","item","offsetTop","isAboutToScrollToFullPage","css3","offsetHeight","getScrollTop","getWindowHeight"],"sources":["/Users/rachelma/college/2023/fall/2223/internet-art/src/js/beyondFullpage/scrollBeyondFullPage.js"],"sourcesContent":["import * as utils from '../common/utils.js';\nimport { getScrollSettings, isFullPageAbove } from '../common/utilsFP.js';\nimport { getOptions } from '../common/options.js';\nimport { doc, FP } from '../common/constants.js';\nimport { $html, $htmlBody } from '../common/cache.js';\nimport { getState, setState } from '../common/state.js';\nimport { scrollTo } from '../common/scrollTo.js';\n\nexport function scrollBeyondFullPage(){\n    var dtop = getDestinationOffset();\n    var scrollSettings = getScrollSettings(dtop);\n    FP.test.top = -dtop + 'px';\n\n    setState({canScroll: false});\n    scrollTo(scrollSettings.element, scrollSettings.options, getOptions().scrollingSpeed, function(){\n        setTimeout(function(){\n            setState({isBeyondFullpage: true});\n            setState({canScroll: true});\n        },30);\n    });\n}\n\nexport function onKeyDown(){\n    if(!isFullPageAbove()){\n        return;\n    }else{\n        scrollUpToFullpage();\n    }    \n}\n\nexport function scrollUpToFullpage(){\n    var scrollSettings = getScrollSettings(utils.getLast(getState().sections).item.offsetTop);\n    setState({canScroll: false});\n    \n    scrollTo(scrollSettings.element, scrollSettings.options, getOptions().scrollingSpeed, function(){\n        setState({canScroll: true});\n        setState({isBeyondFullpage: false});\n        setState({isAboutToScrollToFullPage: false});\n    });\n}\n\nfunction getDestinationOffset(){\n    if(!getOptions().css3){\n        return utils.getLast(getState().sections).item.offsetTop + utils.getLast(getState().sections).item.offsetHeight;\n    }\n    return utils.getScrollTop() +  utils.getWindowHeight();\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,oBAAoB;AAC3C,SAASC,iBAAiB,EAAEC,eAAe,QAAQ,sBAAsB;AACzE,SAASC,UAAU,QAAQ,sBAAsB;AACjD,SAASC,GAAG,EAAEC,EAAE,QAAQ,wBAAwB;AAChD,SAASC,KAAK,EAAEC,SAAS,QAAQ,oBAAoB;AACrD,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AACvD,SAASC,QAAQ,QAAQ,uBAAuB;AAEhD,OAAO,SAASC,oBAAoBA,CAAA,EAAE;EAClC,IAAIC,IAAI,GAAGC,oBAAoB,CAAC,CAAC;EACjC,IAAIC,cAAc,GAAGb,iBAAiB,CAACW,IAAI,CAAC;EAC5CP,EAAE,CAACU,IAAI,CAACC,GAAG,GAAG,CAACJ,IAAI,GAAG,IAAI;EAE1BH,QAAQ,CAAC;IAACQ,SAAS,EAAE;EAAK,CAAC,CAAC;EAC5BP,QAAQ,CAACI,cAAc,CAACI,OAAO,EAAEJ,cAAc,CAACK,OAAO,EAAEhB,UAAU,CAAC,CAAC,CAACiB,cAAc,EAAE,YAAU;IAC5FC,UAAU,CAAC,YAAU;MACjBZ,QAAQ,CAAC;QAACa,gBAAgB,EAAE;MAAI,CAAC,CAAC;MAClCb,QAAQ,CAAC;QAACQ,SAAS,EAAE;MAAI,CAAC,CAAC;IAC/B,CAAC,EAAC,EAAE,CAAC;EACT,CAAC,CAAC;AACN;AAEA,OAAO,SAASM,SAASA,CAAA,EAAE;EACvB,IAAG,CAACrB,eAAe,CAAC,CAAC,EAAC;IAClB;EACJ,CAAC,MAAI;IACDsB,kBAAkB,CAAC,CAAC;EACxB;AACJ;AAEA,OAAO,SAASA,kBAAkBA,CAAA,EAAE;EAChC,IAAIV,cAAc,GAAGb,iBAAiB,CAACD,KAAK,CAACyB,OAAO,CAACjB,QAAQ,CAAC,CAAC,CAACkB,QAAQ,CAAC,CAACC,IAAI,CAACC,SAAS,CAAC;EACzFnB,QAAQ,CAAC;IAACQ,SAAS,EAAE;EAAK,CAAC,CAAC;EAE5BP,QAAQ,CAACI,cAAc,CAACI,OAAO,EAAEJ,cAAc,CAACK,OAAO,EAAEhB,UAAU,CAAC,CAAC,CAACiB,cAAc,EAAE,YAAU;IAC5FX,QAAQ,CAAC;MAACQ,SAAS,EAAE;IAAI,CAAC,CAAC;IAC3BR,QAAQ,CAAC;MAACa,gBAAgB,EAAE;IAAK,CAAC,CAAC;IACnCb,QAAQ,CAAC;MAACoB,yBAAyB,EAAE;IAAK,CAAC,CAAC;EAChD,CAAC,CAAC;AACN;AAEA,SAAShB,oBAAoBA,CAAA,EAAE;EAC3B,IAAG,CAACV,UAAU,CAAC,CAAC,CAAC2B,IAAI,EAAC;IAClB,OAAO9B,KAAK,CAACyB,OAAO,CAACjB,QAAQ,CAAC,CAAC,CAACkB,QAAQ,CAAC,CAACC,IAAI,CAACC,SAAS,GAAG5B,KAAK,CAACyB,OAAO,CAACjB,QAAQ,CAAC,CAAC,CAACkB,QAAQ,CAAC,CAACC,IAAI,CAACI,YAAY;EACnH;EACA,OAAO/B,KAAK,CAACgC,YAAY,CAAC,CAAC,GAAIhC,KAAK,CAACiC,eAAe,CAAC,CAAC;AAC1D"},"metadata":{},"sourceType":"module","externalDependencies":[]}