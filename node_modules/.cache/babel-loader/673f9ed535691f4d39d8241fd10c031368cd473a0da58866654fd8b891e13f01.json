{"ast":null,"code":"import * as utils from './common/utils.js';\nimport { getContainer, getOptions, setOptionsFromDOM } from './common/options.js';\nimport { getState, state } from './common/state.js';\nimport { updateState, updateStructuralState } from './stateUpdates.js';\nimport { addInternalSelectors } from './dom/addInternalSelectors.js';\nimport { addVerticalNavigation } from './nav/sections.js';\nimport { styleSlides } from './slides/styleSlides.js';\nimport { SECTION_NAV_SEL, SLIDES_NAV_SEL, WRAPPER_SEL, SLIDES_ARROW_SEL } from './common/selectors.js';\nimport { EventEmitter } from './common/eventEmitter.js';\nimport { FP } from './common/constants.js';\nimport { styleSection } from './sections.js';\nimport { events } from './common/events.js';\nlet g_wrapperObserver;\nconst g_wrapperObserveConfig = {\n  attributes: false,\n  subtree: true,\n  childList: true,\n  characterData: true\n};\nEventEmitter.on(events.bindEvents, bindEvents);\nFP[\"render\"] = onContentChange;\nfunction bindEvents() {\n  if (getOptions().observer && \"MutationObserver\" in window && utils.$(WRAPPER_SEL)[0]) {\n    g_wrapperObserver = createObserver(utils.$(WRAPPER_SEL)[0], onContentChange, g_wrapperObserveConfig);\n  }\n  EventEmitter.on(events.contentChanged, onContentChange);\n}\n\n/**\n * Creates a Mutation observer.\n */\nfunction createObserver(target, callback, config) {\n  var observer = new MutationObserver(callback);\n  observer.observe(target, config);\n  return observer;\n}\nfunction didSlidesChange() {\n  return utils.getVisible(utils.$(getOptions().slideSelector, getContainer())).length !== getState().numSlides;\n}\nfunction didSectionsChange() {\n  return utils.getVisible(utils.$(getOptions().sectionSelector, getContainer())).length !== getState().numSections;\n}\nfunction didSectionsOrSlidesChange() {\n  return didSlidesChange() || didSectionsChange();\n}\n\n/**\n * Listen to changes on sections and fires reBuild\n * when those changes affect the section height.\n */\nfunction onContentChange(mutations) {\n  var _didSlidesChange = didSlidesChange();\n  if (didSectionsOrSlidesChange() && !state.isDoingContinousVertical) {\n    if (getOptions().observer && g_wrapperObserver) {\n      // Temporally disabling the observer while \n      // we modidy the DOM again\n      g_wrapperObserver.disconnect();\n    }\n    updateStructuralState();\n    updateState();\n\n    // Removing navs and anchors options\n    getOptions().anchors = [];\n    utils.remove(utils.$(SECTION_NAV_SEL));\n    addInternalSelectors();\n    setOptionsFromDOM();\n    if (getOptions().navigation) {\n      addVerticalNavigation();\n    }\n    if (_didSlidesChange) {\n      utils.remove(utils.$(SLIDES_NAV_SEL));\n      utils.remove(utils.$(SLIDES_ARROW_SEL));\n    }\n    getState().sections.forEach(function (section) {\n      if (section.slides.length) {\n        if (_didSlidesChange) {\n          styleSlides(section);\n        }\n      } else {\n        styleSection(section);\n      }\n    });\n  }\n  if (getOptions().observer && g_wrapperObserver && utils.$(WRAPPER_SEL)[0]) {\n    g_wrapperObserver.observe(utils.$(WRAPPER_SEL)[0], g_wrapperObserveConfig);\n  }\n}","map":{"version":3,"names":["utils","getContainer","getOptions","setOptionsFromDOM","getState","state","updateState","updateStructuralState","addInternalSelectors","addVerticalNavigation","styleSlides","SECTION_NAV_SEL","SLIDES_NAV_SEL","WRAPPER_SEL","SLIDES_ARROW_SEL","EventEmitter","FP","styleSection","events","g_wrapperObserver","g_wrapperObserveConfig","attributes","subtree","childList","characterData","on","bindEvents","onContentChange","observer","window","$","createObserver","contentChanged","target","callback","config","MutationObserver","observe","didSlidesChange","getVisible","slideSelector","length","numSlides","didSectionsChange","sectionSelector","numSections","didSectionsOrSlidesChange","mutations","_didSlidesChange","isDoingContinousVertical","disconnect","anchors","remove","navigation","sections","forEach","section","slides"],"sources":["/Users/rachelma/college/2023/fall/2223/internet-art/src/js/dynamic.js"],"sourcesContent":["import * as utils from './common/utils.js';\nimport { getContainer, getOptions, setOptionsFromDOM } from './common/options.js';\nimport { getState, state } from './common/state.js';\nimport { updateState, updateStructuralState } from './stateUpdates.js';\nimport { addInternalSelectors } from './dom/addInternalSelectors.js';\nimport { addVerticalNavigation } from './nav/sections.js';\nimport { styleSlides } from './slides/styleSlides.js';\nimport { \n    SECTION_NAV_SEL, \n    SLIDES_NAV_SEL,\n    WRAPPER_SEL,\n    SLIDES_ARROW_SEL\n} from './common/selectors.js';\nimport { EventEmitter } from './common/eventEmitter.js';\nimport { FP } from './common/constants.js';\nimport { styleSection } from './sections.js';\nimport { events } from './common/events.js';\n\nlet g_wrapperObserver;\nconst g_wrapperObserveConfig = {\n    attributes: false,\n    subtree:true,\n    childList: true,\n    characterData: true\n};\n\nEventEmitter.on(events.bindEvents, bindEvents);\n\nFP[\"render\"] = onContentChange;\n\nfunction bindEvents(){    \n    if(getOptions().observer && \n        \"MutationObserver\" in window &&\n        utils.$(WRAPPER_SEL)[0]){\n        g_wrapperObserver = createObserver(utils.$(WRAPPER_SEL)[0], onContentChange, g_wrapperObserveConfig);\n    }\n    EventEmitter.on(events.contentChanged, onContentChange);\n}\n\n/**\n * Creates a Mutation observer.\n */\nfunction createObserver(target, callback, config) {\n    var observer = new MutationObserver(callback);\n    observer.observe(target, config);\n    return observer;\n}\n\nfunction didSlidesChange(){\n    return utils.getVisible(utils.$(getOptions().slideSelector, getContainer())).length !== getState().numSlides;\n}\n\nfunction didSectionsChange(){\n    return utils.getVisible(utils.$(getOptions().sectionSelector, getContainer())).length !== getState().numSections;\n}\n\nfunction didSectionsOrSlidesChange(){\n    return didSlidesChange() || didSectionsChange();\n}\n\n/**\n * Listen to changes on sections and fires reBuild\n * when those changes affect the section height.\n */\nfunction onContentChange(mutations){\n    var _didSlidesChange = didSlidesChange();\n\n    if( didSectionsOrSlidesChange() && !state.isDoingContinousVertical){\n        if(getOptions().observer && g_wrapperObserver){\n            // Temporally disabling the observer while \n            // we modidy the DOM again\n            g_wrapperObserver.disconnect();\n        }\n        updateStructuralState();\n        updateState();\n\n        // Removing navs and anchors options\n        getOptions().anchors = [];\n        utils.remove(utils.$(SECTION_NAV_SEL));\n\n        addInternalSelectors();\n        setOptionsFromDOM();\n\n        if(getOptions().navigation){\n            addVerticalNavigation();\n        }\n        \n        if(_didSlidesChange){\n            utils.remove(utils.$(SLIDES_NAV_SEL));\n            utils.remove(utils.$(SLIDES_ARROW_SEL));\n        }\n\n        getState().sections.forEach(function(section){\n            if(section.slides.length){\n                if(_didSlidesChange){\n                    styleSlides(section);\n                }\n            }else{\n                styleSection(section);\n            }\n        });\n    }\n\n    if(getOptions().observer && g_wrapperObserver && utils.$(WRAPPER_SEL)[0]){\n        g_wrapperObserver.observe(utils.$(WRAPPER_SEL)[0], g_wrapperObserveConfig);\n    }\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,mBAAmB;AAC1C,SAASC,YAAY,EAAEC,UAAU,EAAEC,iBAAiB,QAAQ,qBAAqB;AACjF,SAASC,QAAQ,EAAEC,KAAK,QAAQ,mBAAmB;AACnD,SAASC,WAAW,EAAEC,qBAAqB,QAAQ,mBAAmB;AACtE,SAASC,oBAAoB,QAAQ,+BAA+B;AACpE,SAASC,qBAAqB,QAAQ,mBAAmB;AACzD,SAASC,WAAW,QAAQ,yBAAyB;AACrD,SACIC,eAAe,EACfC,cAAc,EACdC,WAAW,EACXC,gBAAgB,QACb,uBAAuB;AAC9B,SAASC,YAAY,QAAQ,0BAA0B;AACvD,SAASC,EAAE,QAAQ,uBAAuB;AAC1C,SAASC,YAAY,QAAQ,eAAe;AAC5C,SAASC,MAAM,QAAQ,oBAAoB;AAE3C,IAAIC,iBAAiB;AACrB,MAAMC,sBAAsB,GAAG;EAC3BC,UAAU,EAAE,KAAK;EACjBC,OAAO,EAAC,IAAI;EACZC,SAAS,EAAE,IAAI;EACfC,aAAa,EAAE;AACnB,CAAC;AAEDT,YAAY,CAACU,EAAE,CAACP,MAAM,CAACQ,UAAU,EAAEA,UAAU,CAAC;AAE9CV,EAAE,CAAC,QAAQ,CAAC,GAAGW,eAAe;AAE9B,SAASD,UAAUA,CAAA,EAAE;EACjB,IAAGxB,UAAU,CAAC,CAAC,CAAC0B,QAAQ,IACpB,kBAAkB,IAAIC,MAAM,IAC5B7B,KAAK,CAAC8B,CAAC,CAACjB,WAAW,CAAC,CAAC,CAAC,CAAC,EAAC;IACxBM,iBAAiB,GAAGY,cAAc,CAAC/B,KAAK,CAAC8B,CAAC,CAACjB,WAAW,CAAC,CAAC,CAAC,CAAC,EAAEc,eAAe,EAAEP,sBAAsB,CAAC;EACxG;EACAL,YAAY,CAACU,EAAE,CAACP,MAAM,CAACc,cAAc,EAAEL,eAAe,CAAC;AAC3D;;AAEA;AACA;AACA;AACA,SAASI,cAAcA,CAACE,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAE;EAC9C,IAAIP,QAAQ,GAAG,IAAIQ,gBAAgB,CAACF,QAAQ,CAAC;EAC7CN,QAAQ,CAACS,OAAO,CAACJ,MAAM,EAAEE,MAAM,CAAC;EAChC,OAAOP,QAAQ;AACnB;AAEA,SAASU,eAAeA,CAAA,EAAE;EACtB,OAAOtC,KAAK,CAACuC,UAAU,CAACvC,KAAK,CAAC8B,CAAC,CAAC5B,UAAU,CAAC,CAAC,CAACsC,aAAa,EAAEvC,YAAY,CAAC,CAAC,CAAC,CAAC,CAACwC,MAAM,KAAKrC,QAAQ,CAAC,CAAC,CAACsC,SAAS;AAChH;AAEA,SAASC,iBAAiBA,CAAA,EAAE;EACxB,OAAO3C,KAAK,CAACuC,UAAU,CAACvC,KAAK,CAAC8B,CAAC,CAAC5B,UAAU,CAAC,CAAC,CAAC0C,eAAe,EAAE3C,YAAY,CAAC,CAAC,CAAC,CAAC,CAACwC,MAAM,KAAKrC,QAAQ,CAAC,CAAC,CAACyC,WAAW;AACpH;AAEA,SAASC,yBAAyBA,CAAA,EAAE;EAChC,OAAOR,eAAe,CAAC,CAAC,IAAIK,iBAAiB,CAAC,CAAC;AACnD;;AAEA;AACA;AACA;AACA;AACA,SAAShB,eAAeA,CAACoB,SAAS,EAAC;EAC/B,IAAIC,gBAAgB,GAAGV,eAAe,CAAC,CAAC;EAExC,IAAIQ,yBAAyB,CAAC,CAAC,IAAI,CAACzC,KAAK,CAAC4C,wBAAwB,EAAC;IAC/D,IAAG/C,UAAU,CAAC,CAAC,CAAC0B,QAAQ,IAAIT,iBAAiB,EAAC;MAC1C;MACA;MACAA,iBAAiB,CAAC+B,UAAU,CAAC,CAAC;IAClC;IACA3C,qBAAqB,CAAC,CAAC;IACvBD,WAAW,CAAC,CAAC;;IAEb;IACAJ,UAAU,CAAC,CAAC,CAACiD,OAAO,GAAG,EAAE;IACzBnD,KAAK,CAACoD,MAAM,CAACpD,KAAK,CAAC8B,CAAC,CAACnB,eAAe,CAAC,CAAC;IAEtCH,oBAAoB,CAAC,CAAC;IACtBL,iBAAiB,CAAC,CAAC;IAEnB,IAAGD,UAAU,CAAC,CAAC,CAACmD,UAAU,EAAC;MACvB5C,qBAAqB,CAAC,CAAC;IAC3B;IAEA,IAAGuC,gBAAgB,EAAC;MAChBhD,KAAK,CAACoD,MAAM,CAACpD,KAAK,CAAC8B,CAAC,CAAClB,cAAc,CAAC,CAAC;MACrCZ,KAAK,CAACoD,MAAM,CAACpD,KAAK,CAAC8B,CAAC,CAAChB,gBAAgB,CAAC,CAAC;IAC3C;IAEAV,QAAQ,CAAC,CAAC,CAACkD,QAAQ,CAACC,OAAO,CAAC,UAASC,OAAO,EAAC;MACzC,IAAGA,OAAO,CAACC,MAAM,CAAChB,MAAM,EAAC;QACrB,IAAGO,gBAAgB,EAAC;UAChBtC,WAAW,CAAC8C,OAAO,CAAC;QACxB;MACJ,CAAC,MAAI;QACDvC,YAAY,CAACuC,OAAO,CAAC;MACzB;IACJ,CAAC,CAAC;EACN;EAEA,IAAGtD,UAAU,CAAC,CAAC,CAAC0B,QAAQ,IAAIT,iBAAiB,IAAInB,KAAK,CAAC8B,CAAC,CAACjB,WAAW,CAAC,CAAC,CAAC,CAAC,EAAC;IACrEM,iBAAiB,CAACkB,OAAO,CAACrC,KAAK,CAAC8B,CAAC,CAACjB,WAAW,CAAC,CAAC,CAAC,CAAC,EAAEO,sBAAsB,CAAC;EAC9E;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}