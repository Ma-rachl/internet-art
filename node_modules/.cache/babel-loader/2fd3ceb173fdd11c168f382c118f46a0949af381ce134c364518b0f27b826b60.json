{"ast":null,"code":"import * as utils from '../common/utils.js';\nimport { getIsScrollAllowed } from '../common/isScrollAllowed.js';\nimport { getPassiveOptionsIfPossible } from '../common/supportsPassive.js';\nimport { getOptions, getContainer } from '../common/options.js';\nimport { beyondFullPageHandler } from '../beyondFullpage/beyondFullPageHandler.js';\nimport { state, setState } from '../common/state.js';\nimport { setOldPageY, mouseMoveHandler } from '../mouse/move.js';\nimport { addTouchHandler, removeTouchHandler } from '../touch';\nimport { scrolling } from '../scroll/scrolling.js';\nimport { getControlPressed } from '../keyboard/index.js';\nimport { doc, FP, win } from '../common/constants.js';\nimport { COMPLETELY_SEL, NORMAL_SCROLL } from '../common/selectors.js';\nlet prevTime = new Date().getTime();\nlet scrollings = [];\nFP.setMouseWheelScrolling = setMouseWheelScrolling;\n\n/**\n* Adds or remove the possibility of scrolling through sections by using the mouse wheel or the trackpad.\n*/\nfunction setMouseWheelScrolling(value) {\n  if (value) {\n    addMouseWheelHandler();\n    addMiddleWheelHandler();\n  } else {\n    removeMouseWheelHandler();\n    removeMiddleWheelHandler();\n  }\n}\n\n/**\n* Adds the auto scrolling action for the mouse wheel and trackpad.\n* After this function is called, the mousewheel and trackpad movements will scroll through sections\n* https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n*/\nfunction addMouseWheelHandler() {\n  var prefix = '';\n  var _addEventListener;\n  if (win.addEventListener) {\n    _addEventListener = \"addEventListener\";\n  } else {\n    _addEventListener = \"attachEvent\";\n    prefix = 'on';\n  }\n\n  // detect available wheel event\n  var support = 'onwheel' in doc.createElement('div') ? 'wheel' :\n  // Modern browsers support \"wheel\"\n  // @ts-ignore\n  doc.onmousewheel !== undefined ? 'mousewheel' :\n  // Webkit and IE support at least \"mousewheel\"\n  'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n  var passiveEvent = getPassiveOptionsIfPossible();\n  if (support == 'DOMMouseScroll') {\n    doc[_addEventListener](prefix + 'MozMousePixelScroll', MouseWheelHandler, passiveEvent);\n  }\n\n  //handle MozMousePixelScroll in older Firefox\n  else {\n    doc[_addEventListener](prefix + support, MouseWheelHandler, passiveEvent);\n  }\n}\n\n/**\n* Binding the mousemove when the mouse's middle button is pressed\n*/\nfunction addMiddleWheelHandler() {\n  getContainer().addEventListener('mousedown', mouseDownHandler);\n  getContainer().addEventListener('mouseup', mouseUpHandler);\n}\n\n/**\n* Removes the auto scrolling action fired by the mouse wheel and trackpad.\n* After this function is called, the mousewheel and trackpad movements won't scroll through sections.\n*/\nfunction removeMouseWheelHandler() {\n  if (doc.addEventListener) {\n    utils.docRemoveEvent('mousewheel', MouseWheelHandler, false); //IE9, Chrome, Safari, Oper\n    utils.docRemoveEvent('wheel', MouseWheelHandler, false); //Firefox\n    utils.docRemoveEvent('MozMousePixelScroll', MouseWheelHandler, false); //old Firefox\n  } else {\n    // @ts-ignore\n    doc.detachEvent('onmousewheel', MouseWheelHandler); //IE 6/7/8\n  }\n}\n\n/**\n* Unbinding the mousemove when the mouse's middle button is released\n*/\nfunction removeMiddleWheelHandler() {\n  getContainer().removeEventListener('mousedown', mouseDownHandler);\n  getContainer().removeEventListener('mouseup', mouseUpHandler);\n}\n\n/**\n * Detecting mousewheel scrolling\n *\n * http://blogs.sitepointstatic.com/examples/tech/mouse-wheel/index.html\n * http://www.sitepoint.com/html5-javascript-mouse-wheel/\n */\n\nfunction MouseWheelHandler(e) {\n  var curTime = new Date().getTime();\n  var isNormalScroll = utils.hasClass(utils.$(COMPLETELY_SEL)[0], NORMAL_SCROLL);\n  var isScrollAllowedBeyondFullPage = beyondFullPageHandler(getContainer(), e);\n  if (!state.isUsingWheel) {\n    setState({\n      isGrabbing: false,\n      isUsingWheel: true,\n      touchDirection: 'none'\n    });\n  }\n\n  //is scroll allowed?\n  if (!getIsScrollAllowed().m.down && !getIsScrollAllowed().m.up) {\n    utils.preventDefault(e);\n    return false;\n  }\n  if (isScrollAllowedBeyondFullPage) {\n    return true;\n  } else if (isScrollAllowedBeyondFullPage === false) {\n    utils.preventDefault(e);\n    return false;\n  }\n\n  //autoscrolling and not zooming?\n  if (getOptions().autoScrolling && !getControlPressed() && !isNormalScroll) {\n    // cross-browser wheel delta\n    e = e || win.event;\n    var value = e.wheelDelta || -e.deltaY || -e.detail;\n    var delta = Math.max(-1, Math.min(1, value));\n    var horizontalDetection = typeof e.wheelDeltaX !== 'undefined' || typeof e.deltaX !== 'undefined';\n    var isScrollingVertically = Math.abs(e.wheelDeltaX) < Math.abs(e.wheelDelta) || Math.abs(e.deltaX) < Math.abs(e.deltaY) || !horizontalDetection;\n    var direction = delta < 0 ? 'down' : delta > 0 ? 'up' : 'none';\n\n    //Limiting the array to 150 (lets not waste memory!)\n    if (scrollings.length > 149) {\n      scrollings.shift();\n    }\n\n    //keeping record of the previous scrollings\n    scrollings.push(Math.abs(value));\n\n    //preventing to scroll the site on mouse wheel when scrollbar is present\n    if (getOptions().scrollBar) {\n      utils.preventDefault(e);\n    }\n\n    //time difference between the last scroll and the current one\n    var timeDiff = curTime - prevTime;\n    prevTime = curTime;\n\n    //haven't they scrolled in a while?\n    //(enough to be consider a different scrolling action to scroll another section)\n    if (timeDiff > 200) {\n      //emptying the array, we dont care about old scrollings for our averages\n      scrollings = [];\n    }\n    setState({\n      wheelDirection: direction\n    });\n    if (state.canScroll) {\n      var averageEnd = utils.getAverage(scrollings, 10);\n      var averageMiddle = utils.getAverage(scrollings, 70);\n      var isAccelerating = averageEnd >= averageMiddle;\n\n      //to avoid double swipes...\n      if (isAccelerating && isScrollingVertically) {\n        setState({\n          scrollTrigger: 'wheel'\n        });\n\n        //scrolling down?\n        if (delta < 0) {\n          scrolling('down');\n        }\n\n        //scrolling up?\n        else {\n          scrolling('up');\n        }\n      }\n    }\n    return false;\n  }\n  if (getOptions().fitToSection) {\n    //stopping the auto scroll to adjust to a section\n    setState({\n      activeAnimation: false\n    });\n  }\n}\n\n//binding the mousemove when the mouse's middle button is released\n_c = MouseWheelHandler;\nfunction mouseDownHandler(e) {\n  //middle button\n  if (e.which == 2) {\n    setOldPageY(e.pageY);\n    getContainer().addEventListener('mousemove', mouseMoveHandler);\n  }\n}\n\n//unbinding the mousemove when the mouse's middle button is released\nfunction mouseUpHandler(e) {\n  //middle button\n  if (e.which == 2) {\n    getContainer().removeEventListener('mousemove', mouseMoveHandler);\n  }\n}\n\n/**\n* Adds or remove the mouse wheel hijacking\n*/\nexport function setMouseHijack(value) {\n  if (value) {\n    setMouseWheelScrolling(true);\n    addTouchHandler();\n  } else {\n    setMouseWheelScrolling(false);\n    removeTouchHandler();\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"MouseWheelHandler\");","map":{"version":3,"names":["utils","getIsScrollAllowed","getPassiveOptionsIfPossible","getOptions","getContainer","beyondFullPageHandler","state","setState","setOldPageY","mouseMoveHandler","addTouchHandler","removeTouchHandler","scrolling","getControlPressed","doc","FP","win","COMPLETELY_SEL","NORMAL_SCROLL","prevTime","Date","getTime","scrollings","setMouseWheelScrolling","value","addMouseWheelHandler","addMiddleWheelHandler","removeMouseWheelHandler","removeMiddleWheelHandler","prefix","_addEventListener","addEventListener","support","createElement","onmousewheel","undefined","passiveEvent","MouseWheelHandler","mouseDownHandler","mouseUpHandler","docRemoveEvent","detachEvent","removeEventListener","e","curTime","isNormalScroll","hasClass","$","isScrollAllowedBeyondFullPage","isUsingWheel","isGrabbing","touchDirection","m","down","up","preventDefault","autoScrolling","event","wheelDelta","deltaY","detail","delta","Math","max","min","horizontalDetection","wheelDeltaX","deltaX","isScrollingVertically","abs","direction","length","shift","push","scrollBar","timeDiff","wheelDirection","canScroll","averageEnd","getAverage","averageMiddle","isAccelerating","scrollTrigger","fitToSection","activeAnimation","_c","which","pageY","setMouseHijack","$RefreshReg$"],"sources":["/Users/rachelma/college/2023/fall/2223/internet-art/src/js/mouse/wheel.js"],"sourcesContent":["import * as utils from '../common/utils.js';\nimport { getIsScrollAllowed } from '../common/isScrollAllowed.js';\nimport { getPassiveOptionsIfPossible } from '../common/supportsPassive.js';\nimport { getOptions, getContainer } from '../common/options.js';\nimport { beyondFullPageHandler } from '../beyondFullpage/beyondFullPageHandler.js';\nimport { state, setState } from '../common/state.js';\nimport { setOldPageY, mouseMoveHandler } from '../mouse/move.js';\nimport { addTouchHandler, removeTouchHandler } from '../touch';\nimport { scrolling } from '../scroll/scrolling.js';\nimport { getControlPressed } from '../keyboard/index.js';\nimport { doc, FP, win } from '../common/constants.js';\nimport {\n    COMPLETELY_SEL,\n    NORMAL_SCROLL\n} from '../common/selectors.js';\n\nlet prevTime = new Date().getTime();\nlet scrollings = [];\nFP.setMouseWheelScrolling = setMouseWheelScrolling;\n\n/**\n* Adds or remove the possibility of scrolling through sections by using the mouse wheel or the trackpad.\n*/\nfunction setMouseWheelScrolling(value){\n    if(value){\n        addMouseWheelHandler();\n        addMiddleWheelHandler();\n    }else{\n        removeMouseWheelHandler();\n        removeMiddleWheelHandler();\n    }\n}\n\n/**\n* Adds the auto scrolling action for the mouse wheel and trackpad.\n* After this function is called, the mousewheel and trackpad movements will scroll through sections\n* https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n*/\nfunction addMouseWheelHandler(){\n    var prefix = '';\n    var _addEventListener;\n\n    if (win.addEventListener){\n        _addEventListener = \"addEventListener\";\n    }else{\n        _addEventListener = \"attachEvent\";\n        prefix = 'on';\n    }\n\n    // detect available wheel event\n    var support = 'onwheel' in doc.createElement('div') ? 'wheel' : // Modern browsers support \"wheel\"\n                // @ts-ignore\n                doc.onmousewheel !== undefined ? 'mousewheel' : // Webkit and IE support at least \"mousewheel\"\n                'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n    var passiveEvent = getPassiveOptionsIfPossible();\n\n    if(support == 'DOMMouseScroll'){\n        doc[ _addEventListener ](prefix + 'MozMousePixelScroll', MouseWheelHandler, passiveEvent);\n    }\n\n    //handle MozMousePixelScroll in older Firefox\n    else{\n        doc[ _addEventListener ](prefix + support, MouseWheelHandler, passiveEvent);\n    }\n}\n\n\n/**\n* Binding the mousemove when the mouse's middle button is pressed\n*/\nfunction addMiddleWheelHandler(){\n    getContainer().addEventListener('mousedown', mouseDownHandler);\n    getContainer().addEventListener('mouseup', mouseUpHandler);\n}\n\n\n/**\n* Removes the auto scrolling action fired by the mouse wheel and trackpad.\n* After this function is called, the mousewheel and trackpad movements won't scroll through sections.\n*/\nfunction removeMouseWheelHandler(){\n    if (doc.addEventListener) {\n        utils.docRemoveEvent('mousewheel', MouseWheelHandler, false); //IE9, Chrome, Safari, Oper\n        utils.docRemoveEvent('wheel', MouseWheelHandler, false); //Firefox\n        utils.docRemoveEvent('MozMousePixelScroll', MouseWheelHandler, false); //old Firefox\n    } else {\n        // @ts-ignore\n        doc.detachEvent('onmousewheel', MouseWheelHandler); //IE 6/7/8\n    }\n}\n\n/**\n* Unbinding the mousemove when the mouse's middle button is released\n*/\nfunction removeMiddleWheelHandler(){\n    getContainer().removeEventListener('mousedown', mouseDownHandler);\n    getContainer().removeEventListener('mouseup', mouseUpHandler);\n}\n\n/**\n * Detecting mousewheel scrolling\n *\n * http://blogs.sitepointstatic.com/examples/tech/mouse-wheel/index.html\n * http://www.sitepoint.com/html5-javascript-mouse-wheel/\n */\n\nfunction MouseWheelHandler(e) {\n    var curTime = new Date().getTime();\n    var isNormalScroll = utils.hasClass(utils.$(COMPLETELY_SEL)[0], NORMAL_SCROLL);\n    var isScrollAllowedBeyondFullPage = beyondFullPageHandler(getContainer(), e);\n\n    if(!state.isUsingWheel){\n        setState({\n            isGrabbing: false,\n            isUsingWheel: true,\n            touchDirection: 'none'\n        });\n    }\n\n    //is scroll allowed?\n    if (!getIsScrollAllowed().m.down && !getIsScrollAllowed().m.up) {\n        utils.preventDefault(e);\n        return false;\n    }\n\n    if(isScrollAllowedBeyondFullPage){\n        return true;\n    }\n    else if (isScrollAllowedBeyondFullPage === false){\n        utils.preventDefault(e);\n        return false;\n    }\n\n    //autoscrolling and not zooming?\n    if(getOptions().autoScrolling && !getControlPressed() && !isNormalScroll){\n        // cross-browser wheel delta\n        e = e || win.event;\n        var value = e.wheelDelta || -e.deltaY || -e.detail;\n        var delta = Math.max(-1, Math.min(1, value));\n\n        var horizontalDetection = typeof e.wheelDeltaX !== 'undefined' || typeof e.deltaX !== 'undefined';\n        var isScrollingVertically = (Math.abs(e.wheelDeltaX) < Math.abs(e.wheelDelta)) || (Math.abs(e.deltaX ) < Math.abs(e.deltaY) || !horizontalDetection);\n        var direction = delta < 0 ? 'down': delta > 0 ? 'up' : 'none';\n\n        //Limiting the array to 150 (lets not waste memory!)\n        if(scrollings.length > 149){\n            scrollings.shift();\n        }\n\n        //keeping record of the previous scrollings\n        scrollings.push(Math.abs(value));\n\n        //preventing to scroll the site on mouse wheel when scrollbar is present\n        if(getOptions().scrollBar){\n            utils.preventDefault(e);\n        }\n\n        //time difference between the last scroll and the current one\n        var timeDiff = curTime-prevTime;\n        prevTime = curTime;\n\n        //haven't they scrolled in a while?\n        //(enough to be consider a different scrolling action to scroll another section)\n        if(timeDiff > 200){\n            //emptying the array, we dont care about old scrollings for our averages\n            scrollings = [];\n        }\n\n        setState({wheelDirection: direction});\n\n        if(state.canScroll){\n            var averageEnd = utils.getAverage(scrollings, 10);\n            var averageMiddle = utils.getAverage(scrollings, 70);\n            var isAccelerating = averageEnd >= averageMiddle;\n\n            //to avoid double swipes...\n            if(isAccelerating && isScrollingVertically){\n\n                setState({scrollTrigger: 'wheel'});\n\n                //scrolling down?\n                if (delta < 0) {\n                    scrolling('down');\n                }\n\n                //scrolling up?\n                else {\n                    scrolling('up');\n                }\n            }\n        }\n\n        return false;\n    }\n\n    if(getOptions().fitToSection){\n        //stopping the auto scroll to adjust to a section\n        setState({activeAnimation: false});\n    }\n}\n\n//binding the mousemove when the mouse's middle button is released\nfunction mouseDownHandler(e){\n    //middle button\n    if (e.which == 2){\n        setOldPageY(e.pageY);\n        getContainer().addEventListener('mousemove', mouseMoveHandler);\n    }\n}\n\n\n//unbinding the mousemove when the mouse's middle button is released\nfunction mouseUpHandler(e){\n    //middle button\n    if (e.which == 2){\n        getContainer().removeEventListener('mousemove', mouseMoveHandler);\n    }\n}\n\n\n/**\n* Adds or remove the mouse wheel hijacking\n*/\nexport function setMouseHijack(value){\n    if(value){\n        setMouseWheelScrolling(true);\n        addTouchHandler();\n    }else{\n        setMouseWheelScrolling(false);\n        removeTouchHandler();\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}